const getStartedForm=document.querySelector("#getStartedForm"),userName=document.querySelector("#name"),ctaWrapper=document.querySelector(".cta-wrapper"),taskApp=document.querySelector("#plan-app"),taskAppContainer=document.querySelector("#plan-app .container"),taskAdderForm=document.querySelector("#taskAdderForm"),taskDescription=document.querySelector("#taskDescription"),tasksContainer=document.querySelector("#tasks-list .container"),welcomeContent=document.querySelector("#main");let tasksCounter=0;const noTasks=document.createElement("p");noTasks.className="center",noTasks.textContent="You don't have any tasks to complete, yet.",loadEventListeners();function loadEventListeners(){document.addEventListener("DOMContentLoaded",appInit),getStartedForm.addEventListener("submit",showTaskAdder),tasksContainer.addEventListener("click",removeTask)}function appInit(){taskApp.classList.add("hide");const a=loadUserTasksFromLS();a.length?a.forEach(a=>{const b=document.createElement("li");b.className="task-list-item",tasksCounter++,b.innerHTML=`
                <input type="checkbox" id="task-${tasksCounter}">
                <label for="task-${tasksCounter}" class="task-description">${a}</label>
                <a href="#" class="close-btn" id="removeTask">X</a>
                `,tasksContainer.appendChild(b)}):tasksContainer.appendChild(noTasks)}function showTaskAdder(a){if(a.preventDefault(),""!==userName.value)setTimeout(function(){welcomeContent.style.display="none",taskApp.style.display="block",setTimeout(function(){taskApp.classList.remove("hide"),taskApp.classList.add("show")},1e3)},1e3),taskAdderForm.addEventListener("submit",addTask);else{const a=document.createElement("span");a.className="error-text",a.textContent="* Please enter your name first.",ctaWrapper.insertBefore(a,ctaWrapper.firstChild)}}function addTask(a){if(a.preventDefault(),""===taskDescription.value)taskDescription.classList.add("error");else{const a=document.createElement("li");a.className="task-list-item",tasksCounter++,a.innerHTML=`
            <input type="checkbox" id="task-${tasksCounter}">
            <label for="task-${tasksCounter}" class="task-description">${taskDescription.value}</label>
            <a href="#" class="close-btn" id="removeTask">X</a>
            `,tasksContainer.contains(noTasks)&&tasksContainer.removeChild(noTasks),tasksContainer.appendChild(a),saveUserTasksToLS(taskDescription.value),taskDescription.classList.remove("error"),taskAdderForm.reset()}}function saveUserTasksToLS(a){const b=loadUserTasksFromLS();b.push(a),localStorage.setItem("tasks",JSON.stringify(b))}function loadUserTasksFromLS(){let a;return a=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks")),a}function removeTask(a){a.target.classList.contains("close-btn")&&(a.preventDefault(),removeTaskFromLS(a.target.previousElementSibling.textContent),a.target.parentElement.remove(),tasksCounter--,!loadUserTasksFromLS().length&&tasksContainer.appendChild(noTasks))}function removeTaskFromLS(a){let b=loadUserTasksFromLS();b.forEach((c,d)=>{c===a&&b.splice(d,1)}),localStorage.setItem("tasks",JSON.stringify(b))}